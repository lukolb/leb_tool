<?php
declare(strict_types=1);

/**
 * Static UI translation catalog.
 *
 * Keys are dotted strings grouped by area (nav, teacher, student, ...).
 * Languages are keyed by their ISO code. Missing translations fall back
 * to the provided default text in `t($key, $fallback)`.
 */
function translations_catalog(): array {
  return [
    'de' => [
      // Navigation / layout
      'nav.dashboard' => 'Dashboard',
      'nav.classes' => 'Klassen',
      'nav.students' => 'Schüler',
      'nav.templates' => 'Templates',
      'nav.option_lists' => 'Options-Listen',
      'nav.text_snippets' => 'Textbausteine',
      'nav.export' => 'Export',
      'nav.users' => 'Nutzer',
      'nav.settings' => 'Einstellungen',
      'nav.logout' => 'Abmelden',
      'nav.entries' => 'Eingaben',
      'nav.delegations' => 'Delegationen',
      'aria.admin_nav' => 'Admin Navigation',
      'aria.teacher_nav' => 'Lehrkraft Navigation',

      // Student login
      'student.login.html_title' => 'Schüler Login',
      'student.login.brand_subtitle' => 'Schüler Login',
      'student.login.heading' => 'Einloggen',
      'student.login.info' => 'Login per QR-Code führt direkt hierher. Wenn dein Gerät keine Kamera hat, kannst du den Login-Code eingeben.',
      'student.login.label_code' => 'Login-Code',
      'student.login.aria_code' => 'Login-Code im Format ABCD-1234',
      'student.login.submit' => 'Einloggen',
      'student.login.alt' => 'Lehrkraft/Admin',
      'student.login.error.invalid_qr' => 'Ungültiger QR-Code.',
      'student.login.error.missing_code' => 'Code fehlt.',
      'student.login.error.not_found' => 'Code nicht gefunden.',

      // Teacher classes
      'teacher.classes.title' => 'Klassen',
      'teacher.classes.card_title' => 'Klassen',
      'teacher.classes.hide_inactive' => 'Inaktive ausblenden',
      'teacher.classes.show_inactive' => 'Inaktive anzeigen',
      'teacher.classes.none' => 'Keine Klassen zugeordnet.',
      'teacher.classes.table.class' => 'Klasse',
      'teacher.classes.table.status' => 'Status',
      'teacher.classes.table.wizard' => 'Wizard',
      'teacher.classes.table.actions' => 'Aktion',
      'teacher.classes.status.active' => 'aktiv',
      'teacher.classes.status.inactive' => 'inaktiv',
      'teacher.classes.wizard.groups' => 'Gruppen',
      'teacher.classes.wizard.items' => 'Items',
      'teacher.classes.wizard.save' => 'Speichern',
      'teacher.classes.action.students' => 'Schüler verwalten',
      'teacher.classes.action.entries' => 'Eingaben',
      'teacher.classes.action.toggle_inactive' => 'Inaktiv setzen',
      'teacher.classes.action.toggle_active' => 'Aktivieren',
      'teacher.classes.alert_ok_active' => 'Klasse aktiviert.',
      'teacher.classes.alert_ok_inactive' => 'Klasse inaktiv gesetzt.',
      'teacher.classes.alert_ok_wizard' => 'Wizard-Anzeige wurde gespeichert.',

      // Teacher entry
      'teacher.entry.title' => 'Eingaben',
      'teacher.entry.delegate_action' => 'Delegieren…',
      'teacher.entry.complete_delegation' => 'Delegation abschließen…',
      'teacher.entry.heading_delegated' => 'Delegation bearbeiten',
      'teacher.entry.heading_fill' => 'Eingaben ausfüllen',
      'teacher.entry.delegation' => 'Delegation:',
      'teacher.entry.delegation_notice' => 'Du siehst hier nur die an dich delegierten Fachbereiche. Andere Bereiche sind schreibgeschützt.',
      'teacher.entry.tips' => 'Tipps:',
      'teacher.entry.tip_next' => 'zum schnellen Springen',
      'teacher.entry.tip_prev' => 'zurück',
      'teacher.entry.tip_toggle_child' => 'Schülereingaben ein/aus',
      'teacher.entry.tip_switch_view' => 'Ansicht wechseln',

      // Teacher dashboard
      'teacher.title' => 'Lehrkraft – Übersicht',
      'teacher.dashboard' => 'Dashboard',
      'teacher.management' => 'Verwaltung',
      'teacher.management_hint' => 'Hier findest du alle wichtigen Wege rund um Klassen, Delegationen und Eingaben auf einen Blick.',
      'teacher.my_classes' => 'Meine Klassen',
      'teacher.my_classes_desc' => 'Zugeordnete Klassen ansehen, Schülerinnen und Schüler verwalten.',
      'teacher.fill_entries' => 'Eingaben ausfüllen',
      'teacher.fill_entries_desc' => 'Berichte vorbereiten und direkt im Browser bearbeiten.',
      'teacher.delegations' => 'Delegationen',
      'teacher.delegations_desc' => 'Geteilte Klassen und Aufgaben im Blick behalten.',
      'teacher.delegations_open' => 'offene Delegationen',
      'teacher.delegations_none' => 'Keine offenen Delegationen',
      'teacher.delegations.title' => 'Delegationen',
      'teacher.delegations.intro' => 'Hier siehst du alle Delegationen in Klassen, auf die du Zugriff hast – sowohl <strong>an dich</strong> als auch <strong>an andere</strong>. Du kannst Delegationen hier auch <strong>neu zuweisen</strong> oder <strong>aufheben</strong>.',
      'teacher.delegations.search' => 'Suche',
      'teacher.delegations.search_placeholder' => 'Klasse / Gruppe / Kolleg:in…',
      'teacher.delegations.search_hint' => '„Bearbeiten…“ öffnet den Dialog zum Zuweisen/Status/Kommentar.',
      'teacher.delegations.status.open' => 'offen',
      'teacher.delegations.status.done' => 'fertig',
      'teacher.delegations.modal.title' => 'Delegation bearbeiten',
      'teacher.delegations.modal.delegated_to' => 'Delegiert an',
      'teacher.delegations.modal.clear_note' => '„— aufheben —“ entfernt die Delegation komplett.',
      'teacher.delegations.modal.status' => 'Status',
      'teacher.delegations.modal.comment' => 'Kommentar',
      'teacher.delegations.modal.comment_placeholder' => 'z.B. bitte prüfen…',
      'teacher.delegations.modal.close' => 'Schließen',
      'teacher.delegations.modal.save' => 'Speichern',
      'teacher.delegations.modal.clear_short' => 'aufheben',
      'teacher.delegations.empty' => 'Keine Delegationen vorhanden.',
      'teacher.delegations.badge.assigned' => '{who}',
      'teacher.delegations.badge.removed' => 'aufgehoben',
      'teacher.delegations.status_label' => 'Status:',
      'teacher.delegations.delegated_label' => 'Delegiert an:',
      'teacher.delegations.open' => 'Öffnen',
      'teacher.delegations.edit' => 'Bearbeiten…',
      'teacher.pdf_export' => 'PDF-Export',
      'teacher.pdf_export_desc' => 'Berichte herunterladen oder weitergeben.',
      'teacher.class_list' => 'Deine Klassen',
      'teacher.class_none' => 'Noch keine Klassen zugeordnet. Bitte wende dich an den Admin, damit dir Klassen zugeordnet werden.',
      'teacher.table.school_year' => 'Schuljahr',
      'teacher.table.class' => 'Klasse',
      'teacher.table.actions' => 'Aktionen',
      'teacher.table.students' => 'Schüler',
      'teacher.export.title' => 'PDF-Export',
      'teacher.export.no_classes' => 'Keine Klassen gefunden.',
      'teacher.export.no_classes_hint' => 'Für Lehrkräfte heißt das meistens: Es sind noch keine Klassen zugeordnet (<code>user_class_assignments</code>).',
      'teacher.export.class_label' => 'Klasse',
      'teacher.export.class_hint' => 'Exportiert die der Klasse zugeordnete Vorlage.',
      'teacher.export.mode_label' => 'Export-Variante',
      'teacher.export.mode.zip' => 'ZIP-Export',
      'teacher.export.mode.zip_sub' => 'eine PDF pro Schüler:in',
      'teacher.export.mode.merged' => 'Gesamt-PDF',
      'teacher.export.mode.merged_sub' => 'alle Schüler:innen in einer Datei',
      'teacher.export.mode.single' => 'Einzel-Export',
      'teacher.export.mode.single_sub' => 'nur eine ausgewählte Person',
      'teacher.export.filter_label' => 'Filter',
      'teacher.export.filter_only_submitted' => 'Nur abgegebene (submitted)',
      'teacher.export.student_label' => 'Schüler:in',
      'teacher.export.check' => 'Prüfen',
      'teacher.export.start' => 'Export starten',
      'teacher.export.warn_note' => 'Warnungen blockieren den Export nicht.',
      'teacher.export.status' => 'Status',
      'teacher.export.ready' => 'Bereit.',
      'teacher.export.info_label' => 'Hinweis:',
      'teacher.export.warn_label' => 'Achtung:',
      'teacher.export.warn_hint' => 'Beim Export kannst du die Warnung ignorieren oder abbrechen.',
      'teacher.export.details' => 'Details',
      'teacher.export.speed_hint' => 'Bei großen Klassen kann „Eine PDF (alle)“ etwas dauern',
      'teacher.export.debug_active' => 'Debug aktiv (debug_pdf=1) – siehe Browser-Konsole',
      'teacher.export.missing_title' => 'Fehlende Einträge gefunden',
      'teacher.export.missing_search' => 'Suchen (Schüler:in oder Feld) …',
      'teacher.export.expand_all' => 'Alle ausklappen',
      'teacher.export.collapse_all' => 'Alle einklappen',
      'teacher.export.cancel' => 'Abbrechen',
      'teacher.export.ignore' => 'Ignorieren & exportieren',

      // Teacher students
      'teacher.students.title' => 'Schüler',
      'teacher.students.card_access_codes' => 'Schüler-Zugangscodes',
      'teacher.students.back_to_classes' => '← zurück zu den Klassen',
      'teacher.students.error_missing_class_id' => 'class_id fehlt.',
      'teacher.students.error_class_not_found' => 'Klasse nicht gefunden.',
      'teacher.students.error_dob_format' => 'Geburtsdatum Format: YYYY-MM-DD oder DD.MM.YYYY',
      'teacher.students.error_csv_open' => 'CSV konnte nicht geöffnet werden.',
      'teacher.students.error_name_required' => 'Vorname und Nachname sind erforderlich.',
      'teacher.students.error_invalid_student' => 'Ungültige student_id.',
      'teacher.students.error_student_not_found' => 'Schüler nicht gefunden.',
      'teacher.students.error_no_csv' => 'Bitte CSV-Datei auswählen.',
      'teacher.students.error_upload_failed' => 'Upload fehlgeschlagen.',
      'teacher.students.error_empty_csv' => 'CSV ist leer oder konnte nicht gelesen werden.',
      'teacher.students.error_missing_source' => 'Quelle fehlt.',
      'teacher.students.error_source_forbidden' => 'Keine Berechtigung für die Quellklasse.',
      'teacher.students.error_no_active_template' => 'Kein aktives Template gefunden.',
      'teacher.students.error_token_generation' => 'Konnte keinen eindeutigen QR-Token erzeugen.',
      'teacher.students.error_code_generation' => 'Konnte keinen eindeutigen Login-Code erzeugen.',
      'teacher.students.child_entry_card' => 'Kinder-Eingabe (Klasse)',
      'teacher.students.no_active_template' => 'Kein aktives Template – Kinder-Eingabe kann nicht gesteuert werden.',
      'teacher.students.child_status_intro' => 'Status ({year}): Entwurf: {draft}, Gesperrt: {locked}, Abgegeben: {submitted}',
      'teacher.students.confirm_child_unlock' => 'Kinder-Eingabe wirklich freigeben?',
      'teacher.students.child_unlock' => 'Für Kinder freigeben',
      'teacher.students.confirm_child_lock' => 'Kinder-Eingabe wirklich sperren?',
      'teacher.students.child_lock' => 'Für Kinder sperren',
      'teacher.students.pdf_export' => 'PDF-Export',
      'teacher.students.pdf_export_hint' => 'Exportiert die ausgefüllten Daten in die der Klasse zugeordnete PDF-Vorlage. Die PDFs werden <strong>nicht</strong> dauerhaft auf dem Server gespeichert.',
      'teacher.students.export_open' => 'Export öffnen',
      'teacher.students.export_zip_all' => 'ZIP (alle)',
      'teacher.students.export_one_pdf' => 'Eine PDF (alle)',
      'teacher.students.export_zip_submitted' => 'ZIP (nur abgegebene)',
      'teacher.students.list_title' => 'Schüler',
      'teacher.students.none' => 'Noch keine Schüler in dieser Klasse.',
      'teacher.students.col_name' => 'Name',
      'teacher.students.col_dob' => 'Geburtsdatum',
      'teacher.students.col_status' => 'Status',
      'teacher.students.col_child_status' => 'Kinder-Status',
      'teacher.students.col_actions' => 'Aktion',
      'teacher.students.status_active' => 'aktiv',
      'teacher.students.status_inactive' => 'inaktiv',
      'teacher.students.btn_edit' => 'Bearbeiten…',
      'teacher.students.btn_deactivate' => 'Deaktivieren',
      'teacher.students.btn_activate' => 'Aktivieren',
      'teacher.students.btn_pdf' => 'PDF',
      'teacher.students.child_status_hint' => '„Nicht angelegt“ heißt: Es gibt noch keinen passenden Eintrag in <code>report_instances</code> (für aktives Template / Schuljahr / Standard).',
      'teacher.students.edit_title' => 'Schüler bearbeiten',
      'teacher.students.edit_hint' => 'Passe Namen, Geburtsdatum und zusätzliche Felder an.',
      'teacher.students.edit_modal_title' => 'Schüler bearbeiten',
      'teacher.students.edit_modal_close' => 'Schließen',
      'teacher.students.edit_modal_cancel' => 'Abbrechen',
      'teacher.students.label_first_name' => 'Vorname',
      'teacher.students.label_last_name' => 'Nachname',
      'teacher.students.label_dob' => 'Geburtsdatum',
      'teacher.students.placeholder_dob' => 'YYYY-MM-DD oder DD.MM.YYYY',
      'teacher.students.additional_fields' => 'Zusätzliche Felder',
      'teacher.students.btn_save' => 'Speichern',
      'teacher.students.add_manual' => 'Schüler manuell anlegen',
      'teacher.students.btn_add' => 'Anlegen',
      'teacher.students.import_title' => 'Schüler per Blackbaud-CSV importieren',
      'teacher.students.import_hint' => 'CSV-Export aus Blackbaud (oder ähnlich). Erwartete Spalten: <code>Student First Name</code>, <code>Student Last Name</code>, <code>Birth Date</code>. Zusätzliche Felder werden per Spaltenname (Feld-Schlüssel oder Beschriftung, optional mit Präfix „Custom:“) zugeordnet.',
      'teacher.students.import_label' => 'CSV-Datei',
      'teacher.students.btn_import' => 'Importieren',
      'teacher.students.copy_title' => 'Schüler aus Vorjahr übernehmen',
      'teacher.students.copy_hint' => 'Kopiert aktive Schüler aus einer anderen Klasse in diese Klasse. Du kannst einzelne Schüler ausschließen.',
      'teacher.students.copy_none' => 'Keine Quellklassen verfügbar (dir sind keine weiteren Klassen zugeordnet).',
      'teacher.students.copy_source' => 'Quelle',
      'teacher.students.copy_choose' => '— wählen —',
      'teacher.students.copy_exclude' => 'Schüler ausschließen',
      'teacher.students.copy_choose_first' => 'Wähle zuerst eine Quelle.',
      'teacher.students.copy_select_none' => 'Keinen ausschließen',
      'teacher.students.copy_select_all' => 'Alle ausschließen',
      'teacher.students.copy_submit' => 'Übernehmen',
      'teacher.students.copy_loading' => 'Lade…',
      'teacher.students.copy_error_fallback' => 'Fehler',
      'teacher.students.copy_no_students' => 'Keine aktiven Schüler in der Quelle.',
      'teacher.students.ok_child_locked' => 'Kinder-Eingabe gesperrt ({count} Reports).',
      'teacher.students.ok_child_unlocked' => 'Kinder-Eingabe freigegeben ({count} Reports).',
      'teacher.students.ok_added' => 'Schüler wurde angelegt.',
      'teacher.students.ok_reactivated' => 'Schüler wurde reaktiviert.',
      'teacher.students.ok_deactivated' => 'Schüler wurde deaktiviert.',
      'teacher.students.ok_import' => 'CSV-Import: angelegt {created}, übersprungen {skipped}.',
      'teacher.students.ok_no_active_students' => 'Keine aktiven Schüler in dieser Klasse.',
      'teacher.students.ok_regenerated' => 'Login-Codes/QR neu generiert: {generated} (unverändert: {skipped}).',
      'teacher.students.ok_generated' => 'Login-Codes/QR erstellt: {generated} (bereits vorhanden: {skipped}).',
      'teacher.students.ok_copied' => 'Schüler übernommen: {count}',
      'teacher.students.ok_updated' => 'Schüler wurde aktualisiert.',
      'teacher.students.print_qr' => 'QR-Codes drucken',
      'teacher.students.generate_logins' => 'Login-Codes/QR erstellen',
      'teacher.students.confirm_regenerate' => 'Wirklich ALLE Login-Codes/QR neu generieren? Alte Ausdrucke sind dann ungültig.',
      'teacher.students.regenerate_logins' => 'Neu generieren',

      // Student area (PHP-rendered)
      'student.html_title' => 'Schülerbereich',
      'student.subtitle' => 'Schülerbereich – Lernentwicklungsbericht',
      'student.fallback_name' => 'Schüler',
      'student.class_label' => 'Klasse',
      'student.logout' => 'Abmelden',
      'student.lang_switch_aria' => 'Sprache wechseln',
      'student.lang_de' => 'Deutsch',
      'student.lang_en' => 'Englisch',
      'student.locked.pending_title' => 'Eingabe noch nicht freigegeben',
      'student.locked.pending_text' => 'Deine Lehrkraft hat die Eingabe noch nicht freigegeben. Bitte versuche es später noch einmal.',
      'student.locked.none_title' => 'Keine Vorlage zugeordnet',
      'student.locked.none_text' => 'Für deine Klasse wurde noch keine Vorlage zugeordnet. Bitte wende dich an deine Lehrkraft.',
      'student.sidebar.report' => 'Dein Bericht',
      'student.sidebar.saving' => 'Speichern…',
      'student.buttons.prev' => 'Zurück',
      'student.buttons.next' => 'Weiter',
      'student.meta.loading' => 'Lade…',

      // Student area (JS translations)
      'student.js.nav_start_title' => 'Start',
      'student.js.nav_start_sub' => 'Info',
      'student.js.section' => 'Abschnitt',
      'student.js.question_label' => 'Frage {index}',
      'student.js.submit_title' => 'Fertig',
      'student.js.submit_sub' => 'Abgeben',
      'student.js.form_label' => 'Formular',
      'student.js.start_title' => 'Start',
      'student.js.start_sub' => 'Bitte lies die Infos. Danach geht es los.',
      'student.js.no_intro' => 'Keine Intro-Infos hinterlegt.',
      'student.js.cta_start' => 'Los geht’s',
      'student.js.cta_next' => 'Weiter',
      'student.js.group_sub' => 'Du kannst weiterklicken und später zurückspringen, wenn etwas fehlt.',
      'student.js.no_fields' => 'Keine Felder.',
      'student.js.group_intro_sub' => 'Bevor es losgeht: kurze Übersicht.',
      'student.js.group_intro_kicker' => 'Neuer Abschnitt',
      'student.js.group_intro_hint' => 'Hier kommen {count} Fragen. Du kannst jederzeit im Menü springen.',
      'student.js.cta_begin_group' => 'Starten',
      'student.js.field_sub' => 'Eine Frage nach der anderen. Du kannst jederzeit zurückspringen.',
      'student.js.finish_title' => 'Fertig',
      'student.js.finish_all' => 'Alles ist ausgefüllt.',
      'student.js.finish_missing' => 'Es fehlen noch Felder.',
      'student.js.finish_text' => 'Wenn alles ausgefüllt ist, kannst du abgeben.',
      'student.js.finish_missing_label' => 'Fehlende Felder: {count}',
      'student.js.submit_btn' => 'Abgeben',
      'student.js.auto_save' => 'Automatisches Speichern ist aktiv.',
      'student.js.req_hint_intro' => 'Klicke „Los geht\'s“, um zu starten.',
      'student.js.req_hint_group_done' => 'Abschnitt ist schon komplett ✓',
      'student.js.req_hint_group_missing' => '{count} fehlen in diesem Abschnitt (du kannst starten).',
      'student.js.req_hint_submit_ok' => 'Alles erledigt – du kannst abgeben.',
      'student.js.req_hint_submit_missing' => '{count} Felder fehlen noch.',
      'student.js.req_hint_step_ok' => 'Alles ausgefüllt ✓',
      'student.js.req_hint_step_missing' => '{count} fehlen noch (du kannst trotzdem weiter).',
      'student.js.progress_text' => 'Fortschritt: {done}/{total} (offen: {missing})',
      'student.js.progress_empty' => '—',
      'student.js.submit_missing_alert' => 'Es fehlen noch {count} Felder. Bitte fülle alles aus.',
      'student.js.submit_confirm' => 'Möchtest du jetzt abgeben? Danach kannst du nichts mehr ändern.',
      'student.js.submit_thanks' => 'Danke! Du hast abgegeben.',
      'student.js.submit_error' => 'Fehler beim Abgeben.',
      'student.js.save_working' => '⏳ speichert …',
      'student.js.save_ok' => '✔ gespeichert um {time}',
      'student.js.save_error_offline' => '❌ Fehler (offline)',
      'student.js.save_error' => '❌ Fehler: {message}',
      'student.js.option_placeholder' => 'Option',
      'student.js.already_submitted' => 'Bereits abgegeben',
      'student.js.already_submitted_text' => 'Du hast deine Eingabe bereits abgegeben. Änderungen sind nicht mehr möglich.',
      'student.js.locked_title' => 'Eingabe gesperrt',
      'student.js.locked_text' => 'Deine Lehrkraft hat die Eingabe gerade gesperrt. Bitte versuche es später noch einmal.',
      'student.js.not_ready_title' => 'Eingabe noch nicht freigegeben oder bereits abgegeben',
      'student.js.not_ready_text' => 'Deine Lehrkraft hat die Eingabe noch nicht freigegeben oder du hast deine Eingabe bereits abgegeben. Bitte versuche es später noch einmal.',
      'student.js.no_template_title' => 'Keine Vorlage zugeordnet',
      'student.js.no_template_text' => 'Für deine Klasse wurde noch keine Vorlage zugeordnet. Bitte wende dich an deine Lehrkraft.',
      'student.js.load_error' => 'Fehler beim Laden.',
      'student.js.save_error_generic' => 'Fehler beim Speichern',
    ],
    'en' => [
      // Navigation / layout
      'nav.dashboard' => 'Dashboard',
      'nav.classes' => 'Classes',
      'nav.students' => 'Students',
      'nav.templates' => 'Templates',
      'nav.option_lists' => 'Option lists',
      'nav.text_snippets' => 'Text snippets',
      'nav.export' => 'Export',
      'nav.users' => 'Users',
      'nav.settings' => 'Settings',
      'nav.logout' => 'Log out',
      'nav.entries' => 'Entries',
      'nav.delegations' => 'Delegations',
      'aria.admin_nav' => 'Admin navigation',
      'aria.teacher_nav' => 'Teacher navigation',

      // Student login
      'student.login.html_title' => 'Student login',
      'student.login.brand_subtitle' => 'Student login',
      'student.login.heading' => 'Sign in',
      'student.login.info' => 'Scanning the QR code takes you here. If your device has no camera you can enter the login code.',
      'student.login.label_code' => 'Login code',
      'student.login.aria_code' => 'Login code in the format ABCD-1234',
      'student.login.submit' => 'Sign in',
      'student.login.alt' => 'Teacher/Admin',
      'student.login.error.invalid_qr' => 'Invalid QR code.',
      'student.login.error.missing_code' => 'Code is missing.',
      'student.login.error.not_found' => 'Code not found.',

      // Teacher classes
      'teacher.classes.title' => 'Classes',
      'teacher.classes.card_title' => 'Classes',
      'teacher.classes.hide_inactive' => 'Hide inactive',
      'teacher.classes.show_inactive' => 'Show inactive',
      'teacher.classes.none' => 'No classes assigned.',
      'teacher.classes.table.class' => 'Class',
      'teacher.classes.table.status' => 'Status',
      'teacher.classes.table.wizard' => 'Wizard',
      'teacher.classes.table.actions' => 'Actions',
      'teacher.classes.status.active' => 'active',
      'teacher.classes.status.inactive' => 'inactive',
      'teacher.classes.wizard.groups' => 'Groups',
      'teacher.classes.wizard.items' => 'Items',
      'teacher.classes.wizard.save' => 'Save',
      'teacher.classes.action.students' => 'Manage students',
      'teacher.classes.action.entries' => 'Entries',
      'teacher.classes.action.toggle_inactive' => 'Set inactive',
      'teacher.classes.action.toggle_active' => 'Activate',
      'teacher.classes.alert_ok_active' => 'Class activated.',
      'teacher.classes.alert_ok_inactive' => 'Class set to inactive.',
      'teacher.classes.alert_ok_wizard' => 'Wizard display saved.',

      // Teacher entry
      'teacher.entry.title' => 'Entries',
      'teacher.entry.delegate_action' => 'Delegate…',
      'teacher.entry.complete_delegation' => 'Finish delegation…',
      'teacher.entry.heading_delegated' => 'Edit delegation',
      'teacher.entry.heading_fill' => 'Fill entries',
      'teacher.entry.delegation' => 'Delegation:',
      'teacher.entry.delegation_notice' => 'You only see the subject areas delegated to you here. Other areas are read-only.',
      'teacher.entry.tips' => 'Tips:',
      'teacher.entry.tip_next' => 'to jump ahead quickly',
      'teacher.entry.tip_prev' => 'back',
      'teacher.entry.tip_toggle_child' => 'Toggle student entries',
      'teacher.entry.tip_switch_view' => 'Switch view',

      // Teacher dashboard
      'teacher.title' => 'Teacher – overview',
      'teacher.dashboard' => 'Dashboard',
      'teacher.management' => 'Management',
      'teacher.management_hint' => 'All important links for classes, delegations and entries at a glance.',
      'teacher.my_classes' => 'My classes',
      'teacher.my_classes_desc' => 'View assigned classes, manage students.',
      'teacher.fill_entries' => 'Fill entries',
      'teacher.fill_entries_desc' => 'Prepare reports and edit them directly in the browser.',
      'teacher.delegations' => 'Delegations',
      'teacher.delegations_desc' => 'Keep an eye on shared classes and tasks.',
      'teacher.delegations_open' => 'open delegations',
      'teacher.delegations_none' => 'No open delegations',
      'teacher.delegations.title' => 'Delegations',
      'teacher.delegations.intro' => 'Here you can see all delegations for classes you can access – both <strong>to you</strong> and <strong>to others</strong>. You can also <strong>assign</strong> or <strong>remove</strong> delegations here.',
      'teacher.delegations.search' => 'Search',
      'teacher.delegations.search_placeholder' => 'Class / group / colleague…',
      'teacher.delegations.search_hint' => '“Edit…” opens the dialog for assignment/status/comment.',
      'teacher.delegations.status.open' => 'open',
      'teacher.delegations.status.done' => 'done',
      'teacher.delegations.modal.title' => 'Edit delegation',
      'teacher.delegations.modal.delegated_to' => 'Delegated to',
      'teacher.delegations.modal.clear_note' => '“— clear —” removes the delegation completely.',
      'teacher.delegations.modal.status' => 'Status',
      'teacher.delegations.modal.comment' => 'Comment',
      'teacher.delegations.modal.comment_placeholder' => 'e.g. please review…',
      'teacher.delegations.modal.close' => 'Close',
      'teacher.delegations.modal.save' => 'Save',
      'teacher.delegations.modal.clear_short' => 'clear',
      'teacher.delegations.empty' => 'No delegations available.',
      'teacher.delegations.badge.assigned' => '{who}',
      'teacher.delegations.badge.removed' => 'cleared',
      'teacher.delegations.status_label' => 'Status:',
      'teacher.delegations.delegated_label' => 'Delegated to:',
      'teacher.delegations.open' => 'Open',
      'teacher.delegations.edit' => 'Edit…',
      'teacher.pdf_export' => 'PDF export',
      'teacher.pdf_export_desc' => 'Download or share reports.',
      'teacher.class_list' => 'Your classes',
      'teacher.class_none' => 'No classes assigned yet. Please ask the admin to assign classes to you.',
      'teacher.table.school_year' => 'School year',
      'teacher.table.class' => 'Class',
      'teacher.table.actions' => 'Actions',
      'teacher.table.students' => 'Students',
      'teacher.export.title' => 'PDF export',
      'teacher.export.no_classes' => 'No classes found.',
      'teacher.export.no_classes_hint' => 'For teachers this usually means no classes have been assigned yet (<code>user_class_assignments</code>).',
      'teacher.export.class_label' => 'Class',
      'teacher.export.class_hint' => 'Exports the template assigned to the class.',
      'teacher.export.mode_label' => 'Export mode',
      'teacher.export.mode.zip' => 'ZIP export',
      'teacher.export.mode.zip_sub' => 'one PDF per student',
      'teacher.export.mode.merged' => 'Combined PDF',
      'teacher.export.mode.merged_sub' => 'all students in one file',
      'teacher.export.mode.single' => 'Single export',
      'teacher.export.mode.single_sub' => 'only one selected person',
      'teacher.export.filter_label' => 'Filter',
      'teacher.export.filter_only_submitted' => 'Only submitted',
      'teacher.export.student_label' => 'Student',
      'teacher.export.check' => 'Check',
      'teacher.export.start' => 'Start export',
      'teacher.export.warn_note' => 'Warnings do not block the export.',
      'teacher.export.status' => 'Status',
      'teacher.export.ready' => 'Ready.',
      'teacher.export.info_label' => 'Note:',
      'teacher.export.warn_label' => 'Warning:',
      'teacher.export.warn_hint' => 'You can ignore or cancel the warning during export.',
      'teacher.export.details' => 'Details',
      'teacher.export.speed_hint' => 'For large classes “one PDF (all)” can take a bit longer',
      'teacher.export.debug_active' => 'Debug active (debug_pdf=1) – see browser console',
      'teacher.export.missing_title' => 'Missing entries found',
      'teacher.export.missing_search' => 'Search (student or field) …',
      'teacher.export.expand_all' => 'Expand all',
      'teacher.export.collapse_all' => 'Collapse all',
      'teacher.export.cancel' => 'Cancel',
      'teacher.export.ignore' => 'Ignore & export',

      // Teacher students
      'teacher.students.title' => 'Students',
      'teacher.students.card_access_codes' => 'Student access codes',
      'teacher.students.back_to_classes' => '← back to classes',
      'teacher.students.error_missing_class_id' => 'class_id missing.',
      'teacher.students.error_class_not_found' => 'Class not found.',
      'teacher.students.error_dob_format' => 'Date of birth format: YYYY-MM-DD or DD.MM.YYYY',
      'teacher.students.error_csv_open' => 'CSV could not be opened.',
      'teacher.students.error_name_required' => 'First and last name are required.',
      'teacher.students.error_invalid_student' => 'Invalid student_id.',
      'teacher.students.error_student_not_found' => 'Student not found.',
      'teacher.students.error_no_csv' => 'Please select a CSV file.',
      'teacher.students.error_upload_failed' => 'Upload failed.',
      'teacher.students.error_empty_csv' => 'CSV is empty or could not be read.',
      'teacher.students.error_missing_source' => 'Source is missing.',
      'teacher.students.error_source_forbidden' => 'No permission for the source class.',
      'teacher.students.error_no_active_template' => 'No active template found.',
      'teacher.students.error_token_generation' => 'Could not generate a unique QR token.',
      'teacher.students.error_code_generation' => 'Could not generate a unique login code.',
      'teacher.students.child_entry_card' => 'Student entry (class)',
      'teacher.students.no_active_template' => 'No active template – student entry cannot be controlled.',
      'teacher.students.child_status_intro' => 'Status ({year}): Draft: {draft}, Locked: {locked}, Submitted: {submitted}',
      'teacher.students.confirm_child_unlock' => 'Really unlock entry for students?',
      'teacher.students.child_unlock' => 'Allow student entry',
      'teacher.students.confirm_child_lock' => 'Really lock entry for students?',
      'teacher.students.child_lock' => 'Lock student entry',
      'teacher.students.pdf_export' => 'PDF export',
      'teacher.students.pdf_export_hint' => 'Exports the filled data into the PDF template assigned to the class. PDFs are <strong>not</strong> stored permanently on the server.',
      'teacher.students.export_open' => 'Open export',
      'teacher.students.export_zip_all' => 'ZIP (all)',
      'teacher.students.export_one_pdf' => 'Single PDF (all)',
      'teacher.students.export_zip_submitted' => 'ZIP (submitted only)',
      'teacher.students.list_title' => 'Students',
      'teacher.students.none' => 'No students in this class yet.',
      'teacher.students.col_name' => 'Name',
      'teacher.students.col_dob' => 'Date of birth',
      'teacher.students.col_status' => 'Status',
      'teacher.students.col_child_status' => 'Student entry status',
      'teacher.students.col_actions' => 'Action',
      'teacher.students.status_active' => 'active',
      'teacher.students.status_inactive' => 'inactive',
      'teacher.students.btn_edit' => 'Edit…',
      'teacher.students.btn_deactivate' => 'Deactivate',
      'teacher.students.btn_activate' => 'Activate',
      'teacher.students.btn_pdf' => 'PDF',
      'teacher.students.child_status_hint' => '“Not created” means there is no matching record in <code>report_instances</code> (for active template / school year / standard).',
      'teacher.students.edit_title' => 'Edit students',
      'teacher.students.edit_hint' => 'Adjust names, date of birth, and additional fields.',
      'teacher.students.edit_modal_title' => 'Edit student',
      'teacher.students.edit_modal_close' => 'Close',
      'teacher.students.edit_modal_cancel' => 'Cancel',
      'teacher.students.label_first_name' => 'First name',
      'teacher.students.label_last_name' => 'Last name',
      'teacher.students.label_dob' => 'Date of birth',
      'teacher.students.placeholder_dob' => 'YYYY-MM-DD or DD.MM.YYYY',
      'teacher.students.additional_fields' => 'Additional fields',
      'teacher.students.btn_save' => 'Save',
      'teacher.students.add_manual' => 'Add students manually',
      'teacher.students.btn_add' => 'Create',
      'teacher.students.import_title' => 'Import students via Blackbaud CSV',
      'teacher.students.import_hint' => 'CSV export from Blackbaud (or similar). Expected columns: <code>Student First Name</code>, <code>Student Last Name</code>, <code>Birth Date</code>. Additional fields map by column name (field key or label, optionally prefixed with “Custom:”).',
      'teacher.students.import_label' => 'CSV file',
      'teacher.students.btn_import' => 'Import',
      'teacher.students.copy_title' => 'Copy students from previous year',
      'teacher.students.copy_hint' => 'Copies active students from another class into this one. You can exclude individual students.',
      'teacher.students.copy_none' => 'No source classes available (no additional classes assigned).',
      'teacher.students.copy_source' => 'Source',
      'teacher.students.copy_choose' => '— choose —',
      'teacher.students.copy_exclude' => 'Exclude students',
      'teacher.students.copy_choose_first' => 'Choose a source first.',
      'teacher.students.copy_select_none' => 'Exclude none',
      'teacher.students.copy_select_all' => 'Exclude all',
      'teacher.students.copy_submit' => 'Copy',
      'teacher.students.copy_loading' => 'Loading…',
      'teacher.students.copy_error_fallback' => 'Error',
      'teacher.students.copy_no_students' => 'No active students in the source.',
      'teacher.students.ok_child_locked' => 'Student entry locked ({count} reports).',
      'teacher.students.ok_child_unlocked' => 'Student entry unlocked ({count} reports).',
      'teacher.students.ok_added' => 'Student created.',
      'teacher.students.ok_reactivated' => 'Student reactivated.',
      'teacher.students.ok_deactivated' => 'Student deactivated.',
      'teacher.students.ok_import' => 'CSV import: created {created}, skipped {skipped}.',
      'teacher.students.ok_no_active_students' => 'No active students in this class.',
      'teacher.students.ok_regenerated' => 'Login codes/QR regenerated: {generated} (unchanged: {skipped}).',
      'teacher.students.ok_generated' => 'Login codes/QR created: {generated} (already present: {skipped}).',
      'teacher.students.ok_copied' => 'Students copied: {count}',
      'teacher.students.ok_updated' => 'Student updated.',
      'teacher.students.print_qr' => 'Print QR codes',
      'teacher.students.generate_logins' => 'Create login codes/QR',
      'teacher.students.confirm_regenerate' => 'Regenerate ALL login codes/QR? Old printouts will become invalid.',
      'teacher.students.regenerate_logins' => 'Regenerate',

      // Student area (PHP-rendered)
      'student.html_title' => 'Student area',
      'student.subtitle' => 'Student area – learning progress report',
      'student.fallback_name' => 'Student',
      'student.class_label' => 'Class',
      'student.logout' => 'Log out',
      'student.lang_switch_aria' => 'Switch language',
      'student.lang_de' => 'German',
      'student.lang_en' => 'English',
      'student.locked.pending_title' => 'Entry not released yet',
      'student.locked.pending_text' => 'Your teacher has not released the entry yet. Please try again later.',
      'student.locked.none_title' => 'No template assigned',
      'student.locked.none_text' => 'No template has been assigned to your class yet. Please contact your teacher.',
      'student.sidebar.report' => 'Your report',
      'student.sidebar.saving' => 'Saving…',
      'student.buttons.prev' => 'Back',
      'student.buttons.next' => 'Next',
      'student.meta.loading' => 'Loading…',

      // Student area (JS translations)
      'student.js.nav_start_title' => 'Start',
      'student.js.nav_start_sub' => 'Info',
      'student.js.section' => 'Section',
      'student.js.question_label' => 'Question {index}',
      'student.js.submit_title' => 'Done',
      'student.js.submit_sub' => 'Submit',
      'student.js.form_label' => 'Form',
      'student.js.start_title' => 'Start',
      'student.js.start_sub' => 'Please read the information before you begin.',
      'student.js.no_intro' => 'No intro information available.',
      'student.js.cta_start' => "Let's go", // apostrophe breaks HTML easily
      'student.js.cta_next' => 'Next',
      'student.js.group_sub' => 'You can move forward and come back later if something is missing.',
      'student.js.no_fields' => 'No fields.',
      'student.js.group_intro_sub' => 'Before you start: short overview.',
      'student.js.group_intro_kicker' => 'New section',
      'student.js.group_intro_hint' => 'There are {count} questions. You can always jump using the menu.',
      'student.js.cta_begin_group' => 'Start',
      'student.js.field_sub' => 'One question at a time. You can always jump back.',
      'student.js.finish_title' => 'Done',
      'student.js.finish_all' => 'Everything is filled in.',
      'student.js.finish_missing' => 'Fields are still missing.',
      'student.js.finish_text' => 'Once everything is filled in you can submit.',
      'student.js.finish_missing_label' => 'Missing fields: {count}',
      'student.js.submit_btn' => 'Submit',
      'student.js.auto_save' => 'Auto-save is enabled.',
      'student.js.req_hint_intro' => "Click \"Let's go\" to begin.",
      'student.js.req_hint_group_done' => 'Section already complete ✓',
      'student.js.req_hint_group_missing' => '{count} missing in this section (you can start).',
      'student.js.req_hint_submit_ok' => 'All done – you can submit.',
      'student.js.req_hint_submit_missing' => '{count} fields are still missing.',
      'student.js.req_hint_step_ok' => 'Everything is filled out ✓',
      'student.js.req_hint_step_missing' => '{count} still missing (you can continue).',
      'student.js.progress_text' => 'Progress: {done}/{total} (open: {missing})',
      'student.js.progress_empty' => '—',
      'student.js.submit_missing_alert' => '{count} fields are still missing. Please fill out everything.',
      'student.js.submit_confirm' => 'Submit now? You will not be able to edit afterward.',
      'student.js.submit_thanks' => 'Thanks! You submitted.',
      'student.js.submit_error' => 'Error while submitting.',
      'student.js.save_working' => '⏳ saving …',
      'student.js.save_ok' => '✔ saved at {time}',
      'student.js.save_error_offline' => '❌ Error (offline)',
      'student.js.save_error' => '❌ Error: {message}',
      'student.js.option_placeholder' => 'Option',
      'student.js.already_submitted' => 'Already submitted',
      'student.js.already_submitted_text' => 'You have already submitted your entry. Changes are no longer possible.',
      'student.js.locked_title' => 'Entry locked',
      'student.js.locked_text' => 'Your teacher has just locked the entry. Please try again later.',
      'student.js.not_ready_title' => 'Entry not released or already submitted',
      'student.js.not_ready_text' => 'Your teacher has not released the entry yet or you have already submitted it. Please try again later.',
      'student.js.no_template_title' => 'No template assigned',
      'student.js.no_template_text' => 'No template has been assigned to your class yet. Please contact your teacher.',
      'student.js.load_error' => 'Error while loading.',
      'student.js.save_error_generic' => 'Error while saving',
    ],
  ];
}

function ui_translations(): array {
  $catalog = translations_catalog();
  $lang = ui_lang();
  return $catalog[$lang] ?? [];
}

function t(string $key, ?string $fallback = null): string {
  $translations = ui_translations();
  if (array_key_exists($key, $translations)) return (string)$translations[$key];
  return $fallback ?? $key;
}
